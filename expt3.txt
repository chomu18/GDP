//Expt 3A : To Interface an LM35 temperature sensor with an Arduino Uno Nano, read
temperature values and display them on LCD/OLED
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>
#define SCREEN_WIDTH 128
#define SCREEN_HEIGHT 64
#define OLED_RESET -1 // Reset pin not used
Adafruit_SSD1306 display(SCREEN_WIDTH, SCREEN_HEIGHT, &Wire, OLED_RESET);
const int sensorPin = A0;
// LM35 connected to A0
void setup() {
Serial.begin(9600);
// Initialize OLED
if (!display.begin(SSD1306_SWITCHCAPVCC, 0x3C)) { // Address 0x3C for most OLEDs
Serial.println(F("SSD1306 allocation failed"));
for (;;);
}
display.clearDisplay();
display.setTextSize(1);
// Text size
display.setTextColor(SSD1306_WHITE); // Text color
display.setCursor(0, 0);
display.println("LM35 Temp Sensor");
display.display();
delay(2000);
}
void loop() {
int raw = analogRead(sensorPin);
float voltage = raw * (5.0 / 1023.0);
// Convert to voltage
float temperatureC = voltage * 100.0;
// LM35 gives 10mV per °C
float temperatureF = (temperatureC * 9.0 / 5.0) + 32.0;
// Print to Serial
Serial.print("Raw ADC: ");
Serial.print(raw);
Serial.print(" | Voltage: ");
Serial.print(voltage, 3);
Serial.print(" V | Temp: ");
Serial.print(temperatureC, 1);
Serial.print(" °C | ");
Serial.print(temperatureF, 1);
Serial.println(" °F");
// Print to OLED
display.clearDisplay();

display.setCursor(0, 0);
display.setTextSize(1);
display.println("Temp Monitor");
display.setTextSize(2);
display.setCursor(0, 20);
display.print(temperatureC, 1);
display.print(" C");
display.setCursor(0, 45);
display.print(temperatureF, 1);
display.print(" F");
display.display();
delay(1000);
}
//Expt 3B : To interfacing DHT11/DHT22 Humidity and Temperature Sensor With
Arduino
#include <DHT.h>
// Pin and sensor type
#define DHTPIN 2
#define DHTTYPE DHT11
// Digital pin connected to DHT
// DHT11 or change to DHT22
// Initialize DHT sensor
DHT dht(DHTPIN, DHTTYPE);
void setup() {
Serial.begin(9600);
dht.begin();
}
// Start serial communication
// Initialize DHT sensor
void loop() {
float tempC, humidity;
// Read temperature and humidity
humidity = dht.readHumidity();
tempC = dht.readTemperature(); // Celsius
// Check if readings are valid
if (isnan(humidity) || isnan(tempC)) {
Serial.println("Error reading from DHT sensor!");
} else {
// Print results
Serial.print("Temperature: ");
Serial.print(tempC);
Serial.println(" °C");
Serial.print("Humidity: ");

Serial.print(humidity);
Serial.println(" %");
}
delay(2000);
}
// Wait 2 seconds before next reading
//Expt 3C : To Interface a soil moisture sensor YL-69 or HL-69 using analog
output
with an Arduino,
#define SOIL_A A0
#define SOIL_D 2
#define MOTOR 3
// Analog pin
// Digital pin
// Motor (or relay module) control pin
void setup() {
Serial.begin(9600);
pinMode(SOIL_D, INPUT);
pinMode(MOTOR, OUTPUT);
}
void loop() {
int moistureValue = analogRead(SOIL_A);
int soilStatus = digitalRead(SOIL_D);
// Read analog value (0–1023)
// Read digital value (0 or 1)
// Display values
Serial.print("Moisture (A0): ");
Serial.print(moistureValue);
Serial.print(" | Digital (D0): ");
Serial.println(soilStatus);
// Control motor based on analog reading
if (moistureValue < 500) {
// Adjust threshold based on testing
digitalWrite(MOTOR, HIGH); // Turn ON motor (soil is dry)
} else {
digitalWrite(MOTOR, LOW); // Turn OFF motor (soil is wet)
}
// OR alternatively, use D0 directly
/*
if (soilStatus == HIGH) {
digitalWrite(MOTOR, HIGH); // Dry -> Turn ON motor
} else {
digitalWrite(MOTOR, LOW); // Wet -> Turn OFF motor

}
*/
delay(1000); // Wait 1 sec
}
//Expt 3D : To Interface an ultrasonic sensor HC-SR04 with an Arduino to measure
the distance to an object
#define TRIG_PIN 9
#define ECHO_PIN 10
long duration;
float distance;
void setup() {
Serial.begin(9600);
pinMode(TRIG_PIN, OUTPUT);
pinMode(ECHO_PIN, INPUT);
// Start serial communication
// Set trig as output
// Set echo as input
Serial.println("Ultrasonic Distance Measurement:");
Serial.println("Place object at a known distance to log actual vs. observed.");
}
void loop() {
// Send 10us HIGH pulse to trigger the sensor
digitalWrite(TRIG_PIN, LOW);
delayMicroseconds(2);
digitalWrite(TRIG_PIN, HIGH);
delayMicroseconds(10);
digitalWrite(TRIG_PIN, LOW);
// Read the echo pulse duration
duration = pulseIn(ECHO_PIN, HIGH);
// Convert to distance in cm: speed of sound = 34300 cm/s
distance = duration * 0.034 / 2;
// Display distance
Serial.print("Measured Distance: ");
Serial.print(distance);
Serial.println(" cm");
delay(2000);
}
// Delay between readings
//Expt 3E : To interface an Infrared (IR) sensor module with an Arduino to detect
and count the presence of objects
#include <TM1637Display.h>

// Pin Definitions
#define IR_SENSOR_PIN 2
#define CLK 4
// TM1637 Clock Pin
#define DIO 3
// TM1637 Data Pin
// Initialize TM1637 display
TM1637Display display(CLK, DIO);
// Variables
int objectCount = 0;
bool lastState = HIGH;
void setup() {
pinMode(IR_SENSOR_PIN, INPUT);
display.setBrightness(0x0f); // Brightness: 0x00 (dim) to 0x0f (bright)
display.showNumberDec(0);
// Display starting value
}
void loop() {
bool currentState = digitalRead(IR_SENSOR_PIN);
// Detect falling edge (HIGH to LOW): object passed
if (lastState == HIGH && currentState == LOW) {
objectCount++;
display.showNumberDec(objectCount, false); // Display count without leading
zeros
delay(200); // Debounce / avoid multiple counts for one object
}
lastState = currentState;
}
//Expt 3F : To interface a Passive Infrared (PIR) sensor module with an Arduino
to
detect motion.
#define PIR_PIN 2
#define LED_PIN 3
// PIR sensor output to D2
// LED connected to D3
void setup() {
pinMode(PIR_PIN, INPUT);
// PIR sensor input
pinMode(LED_PIN, OUTPUT);
// LED output
digitalWrite(LED_PIN, LOW); // Ensure LED is off at start
}
void loop() {
int motion = digitalRead(PIR_PIN); // Read PIR output
if (motion == HIGH) {

digitalWrite(LED_PIN, HIGH);
} else {
digitalWrite(LED_PIN, LOW);
}
}
// Turn ON LED
// Turn OFF LED
//Expt 3G : To Interface a Servo motor with an Arduino NANO
#include <Servo.h>
Servo myServo;
int angle = 0;
// Create Servo object
// Variable to store servo angle
void setup() {
myServo.attach(9);
}
// Attach servo signal pin to D9
void loop() {
// Sweep from 0° to 180°
for (angle = 0; angle <= 180; angle += 1) {
myServo.write(angle);
delay(15); // Delay to allow movement
}
// Sweep back from 180° to 0°
for (angle = 180; angle >= 0; angle -= 1) {
myServo.write(angle);
delay(15);
}
}
//Expt 3H : Robot
// Motor A connections
int enA = 9;
int in1 = 8; int in2 = 7;
// Motor B connections
int enB = 3;
int in3 = 5; int in4 = 4;
// Ultrasonic sensor pins
const int ultrigPin = 10;
const int ultraEchoPin = 11;
// IR sensor pin

const int irPin = 12;
// Thresholds
const int obstacleDistance = 5; // cm, stop if closer than this
const int irThreshold = LOW; // assuming LOW means no surface detected
const int motorSpeed = 90; // Forward speed
const int backwardSpeed = 90; // Backward speed
const int turnSpeed = 90; // Turn speed
void setup() {
// Set all the motor control pins to outputs
pinMode(enA, OUTPUT);
pinMode(enB, OUTPUT);
pinMode(in1, OUTPUT);
pinMode(in2, OUTPUT);
pinMode(in3, OUTPUT);
pinMode(in4, OUTPUT);
// Ultrasonic sensor pins
pinMode(ultrigPin, OUTPUT);
pinMode(ultraEchoPin, INPUT);
// IR sensor pin
pinMode(irPin, INPUT);
// Start motors off
stopMotors();
Serial.begin(9600); // for debugging
}
void loop() {
long distance = getDistance();
int irValue = digitalRead(irPin);
Serial.print("Distance: ");
Serial.print(distance);
Serial.print(" cm, IR: ");
Serial.println(irValue);
if (distance <= obstacleDistance || irValue != irThreshold) {
// Obstacle or no table detected: back up, turn, then go forward
moveBackward();
delay(1000); // move backward for 1 second turn();
delay(700); // turn for 0.7 seconds (adjust as needed)
moveForward();
}
else {
moveForward();
}
delay(100); // small delay for sensor stability
}
// Function to move forward void moveForward() {
analogWrite(enA, motorSpeed);
analogWrite(enB, motorSpeed);
digitalWrite(in1, HIGH);
digitalWrite(in2, LOW);
digitalWrite(in3, HIGH);

digitalWrite(in4, LOW);
}
// Function to move backward void moveBackward() {
analogWrite(enA, backwardSpeed);
analogWrite(enB, backwardSpeed);
// Reverse direction digitalWrite(in1, LOW);
digitalWrite(in2, HIGH);
digitalWrite(in3, LOW);
digitalWrite(in4, HIGH);
}
// Function to turn (rotate in place)
// For example, left turn: one motor forward, other backward void turn() {
analogWrite(enA, turnSpeed);
analogWrite(enB, turnSpeed);
digitalWrite(in1, HIGH);
digitalWrite(in2, LOW);
digitalWrite(in3, LOW);
digitalWrite(in4, HIGH);
}
// Function to stop motors void stopMotors() {
digitalWrite(in1, LOW);
digitalWrite(in2, LOW);
digitalWrite(in3, LOW);
digitalWrite(in4, LOW);
analogWrite(enA, 0);
analogWrite(enB, 0);
}
// Function to get distance from ultrasonic sensor long getDistance() {
digitalWrite(ultrigPin, LOW);
delayMicroseconds(2);
digitalWrite(ultrigPin, HIGH);
delayMicroseconds(10);
digitalWrite(ultrigPin, LOW);
long duration = pulseIn(ultraEchoPin, HIGH, 30000); // timeout 30ms
long distanceCm = duration * 0.034 / 2;
if (duration == 0) {
// no echo received
return 999; // large number
}
return distanceCm;
}

